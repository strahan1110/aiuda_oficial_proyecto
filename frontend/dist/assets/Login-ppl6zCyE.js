import{r as d,u as g,a as j,j as e,B as b,L as y,t as o}from"./index-hWt4zH_6.js";import{I as m}from"./input-usWXL0qU.js";import{L as x}from"./label-DjMWrvjk.js";import{L as N}from"./loader-2-Br8RZ7oo.js";const E=()=>{const[t,v]=d.useState(""),[l,f]=d.useState(""),[s,u]=d.useState(!1),{login:h,isLoading:r}=g(),c=j(),p=async a=>{if(a.preventDefault(),!t||!l){o({title:"Error",description:"Por favor ingresa tu correo y contraseña",variant:"destructive"});return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)){o({title:"Error",description:"Por favor ingresa un correo electrónico válido",variant:"destructive"});return}u(!0);try{await h(t,l),o({title:"¡Bienvenido!",description:"Inicio de sesión exitoso"}),c("/chat")}catch(i){console.error("Error en inicio de sesión:",i);let n="Ocurrió un error al iniciar sesión";i.message.includes("Invalid login credentials")?n="Credenciales inválidas. Por favor, verifica tu correo y contraseña.":i.message.includes("Email not confirmed")?n="Por favor, verifica tu correo electrónico antes de iniciar sesión.":i.message.includes("Too many requests")&&(n="Demasiados intentos. Por favor, inténtalo de nuevo más tarde."),o({title:"Error",description:n,variant:"destructive"})}finally{u(!1)}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-b from-aiuda-muted to-white p-4",children:e.jsxs("div",{className:"w-full max-w-md space-y-6 bg-white p-8 rounded-2xl shadow-xl border border-gray-100",children:[e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("button",{onClick:()=>c("/"),children:e.jsx("img",{src:"/img/logo.png",alt:"AIUDA Logo",className:"h-12"})})}),e.jsx("h1",{className:"text-3xl font-bold text-aiuda-navy",children:"Iniciar Sesión"}),e.jsx("p",{className:"text-aiuda-navy/70",children:"Ingresa tus credenciales para acceder a tu cuenta"})]}),e.jsxs("form",{onSubmit:p,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{htmlFor:"email",className:"text-sm font-medium text-aiuda-navy/80",children:"Correo Electrónico"}),e.jsxs("div",{className:"relative",children:[e.jsx(m,{id:"email",type:"email",value:t,onChange:a=>v(a.target.value),placeholder:"tu@email.com",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-aiuda-coral focus:border-transparent transition-all duration-200",disabled:s||r,required:!0}),e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("svg",{className:"h-5 w-5 text-aiuda-navy/50",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(x,{htmlFor:"password",className:"text-sm font-medium text-aiuda-navy/80",children:"Contraseña"}),e.jsx("button",{type:"button",onClick:()=>c("/forgot-password"),className:"text-sm text-aiuda-coral hover:text-aiuda-coral/80 hover:underline focus:outline-none transition-colors",disabled:s||r,children:"¿Olvidaste tu contraseña?"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(m,{id:"password",type:"password",value:l,onChange:a=>f(a.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-aiuda-coral focus:border-transparent transition-all duration-200",disabled:s||r,minLength:6,required:!0}),e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("svg",{className:"h-5 w-5 text-aiuda-navy/50",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-aiuda-coral focus:ring-aiuda-coral border-gray-300 rounded"}),e.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-aiuda-navy/80",children:"Recordar mi cuenta"})]}),e.jsx(b,{type:"submit",className:"w-full bg-aiuda-coral hover:bg-aiuda-coral/90 text-white font-medium py-3 px-4 rounded-xl focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-aiuda-coral/50 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 transform hover:scale-[1.02]",disabled:s||r,children:s||r?e.jsxs("span",{className:"flex items-center justify-center",children:[e.jsx(N,{className:"animate-spin h-5 w-5 mr-2"}),"Iniciando sesión..."]}):"Iniciar Sesión"})]}),e.jsxs("div",{className:"text-center text-sm text-aiuda-navy/70",children:["¿No tienes una cuenta?"," ",e.jsx(y,{to:"/register",className:"text-aiuda-coral hover:text-aiuda-coral/80 hover:underline font-medium transition-colors",onClick:a=>(s||r)&&a.preventDefault(),children:"Regístrate"})]})]})})};export{E as default};
